import{r as i,j as s,x as H}from"./chunk-Bxh3mmdk.js";import{P as R,j as g,k as B,l as U,R as V,m as q,F as K,n as Y,u as Z,o as C}from"./chunk-CvLG4DX1.js";import{u as h,d as z}from"./chunk-DK86WuFI.js";import{c as J,P as p,d as Q}from"./chunk-BY7XLEYA.js";import{u as X}from"./chunk-BrI55jUa.js";var v="Dialog",[E]=J(v),[ee,u]=E(v),y=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:n,onOpenChange:o,modal:l=!0}=e,c=i.useRef(null),f=i.useRef(null),[m,x]=Z({prop:a,defaultProp:n??!1,onChange:o,caller:v});return s.jsx(ee,{scope:t,triggerRef:c,contentRef:f,contentId:C(),titleId:C(),descriptionId:C(),open:m,onOpenChange:x,onOpenToggle:i.useCallback(()=>x($=>!$),[x]),modal:l,children:r})};y.displayName=v;var N="DialogTrigger",I=i.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=u(N,r),o=h(t,n.triggerRef);return s.jsx(p.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":P(n.open),...a,ref:o,onClick:g(e.onClick,n.onOpenToggle)})});I.displayName=N;var _="DialogPortal",[te,j]=E(_,{forceMount:void 0}),A=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:n}=e,o=u(_,t);return s.jsx(te,{scope:t,forceMount:r,children:i.Children.map(a,l=>s.jsx(R,{present:r||o.open,children:s.jsx(B,{asChild:!0,container:n,children:l})}))})};A.displayName=_;var D="DialogOverlay",T=i.forwardRef((e,t)=>{const r=j(D,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,o=u(D,e.__scopeDialog);return o.modal?s.jsx(R,{present:a||o.open,children:s.jsx(ne,{...n,ref:t})}):null});T.displayName=D;var oe=z("DialogOverlay.RemoveScroll"),ne=i.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=u(D,r);return s.jsx(V,{as:oe,allowPinchZoom:!0,shards:[n.contentRef],children:s.jsx(p.div,{"data-state":P(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),d="DialogContent",b=i.forwardRef((e,t)=>{const r=j(d,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,o=u(d,e.__scopeDialog);return s.jsx(R,{present:a||o.open,children:o.modal?s.jsx(re,{...n,ref:t}):s.jsx(ae,{...n,ref:t})})});b.displayName=d;var re=i.forwardRef((e,t)=>{const r=u(d,e.__scopeDialog),a=i.useRef(null),n=h(t,r.contentRef,a);return i.useEffect(()=>{const o=a.current;if(o)return U(o)},[]),s.jsx(M,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:g(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:g(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:g(e.onFocusOutside,o=>o.preventDefault())})}),ae=i.forwardRef((e,t)=>{const r=u(d,e.__scopeDialog),a=i.useRef(!1),n=i.useRef(!1);return s.jsx(M,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(a.current||r.triggerRef.current?.focus(),o.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const l=o.target;r.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),M=i.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:o,...l}=e,c=u(d,r),f=i.useRef(null),m=h(t,f);return q(),s.jsxs(s.Fragment,{children:[s.jsx(K,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:o,children:s.jsx(Y,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":P(c.open),...l,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(se,{titleId:c.titleId}),s.jsx(ce,{contentRef:f,descriptionId:c.descriptionId})]})]})}),O="DialogTitle",w=i.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=u(O,r);return s.jsx(p.h2,{id:n.titleId,...a,ref:t})});w.displayName=O;var S="DialogDescription",F=i.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=u(S,r);return s.jsx(p.p,{id:n.descriptionId,...a,ref:t})});F.displayName=S;var W="DialogClose",k=i.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=u(W,r);return s.jsx(p.button,{type:"button",...a,ref:t,onClick:g(e.onClick,()=>n.onOpenChange(!1))})});k.displayName=W;function P(e){return e?"open":"closed"}var L="DialogTitleWarning",[De,G]=Q(L,{contentName:d,titleName:O,docsSlug:"dialog"}),se=({titleId:e})=>{const t=G(L),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ie="DialogDescriptionWarning",ce=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${G(ie).contentName}}.`;return i.useEffect(()=>{const n=e.current?.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},ve=y,me=I,xe=A,Ce=T,Re=b,he=w,_e=F,Oe=k,le=async e=>await(await H(`${e}/api/auth/sign-out`,{method:"POST",credentials:"include"})).json(),Pe=()=>{const{refetch:e,baseURL:t}=X(),[r,a]=i.useState(!1),n=i.useCallback(async()=>{try{a(!0),await le(t),await e(),a(!1)}catch(o){console.error(o)}},[t,e]);return i.useMemo(()=>({isPending:r,signOut:n}),[r,n])};export{Re as C,_e as D,Ce as O,xe as P,ve as R,he as T,Oe as a,me as b,Pe as u};
